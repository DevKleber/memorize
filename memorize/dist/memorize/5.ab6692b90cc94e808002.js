(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{gi1i:function(t,e,i){"use strict";i.r(e),i.d(e,"StickyModule",(function(){return x}));var o=i("PCNd"),c=i("tyNb"),r=i("fXoL"),a=i("nWBu"),n={prefix:"fas",iconName:"bars",icon:[448,512,[],"f0c9","M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"]},s={prefix:"fas",iconName:"plus",icon:[448,512,[],"f067","M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"]},d={prefix:"fas",iconName:"plus-circle",icon:[512,512,[],"f055","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"]},l=i("3Pt+"),b=i("vkgz"),g=i("tk/3");let m=(()=>{class t{constructor(t,e){this.http=t,this.router=e,this.mostrarMenu=new r.n}getSticky(t){return this.http.get(`${a.a}/sticky/cat/${t}`)}getCategories(t){return this.http.get(a.a+"/category")}save(t){return console.log(t),this.http.post(a.a+"/sticky",t)}saveCategory(t){return console.log(t),this.http.post(a.a+"/category",t)}file(t){return this.http.post(a.a+"/file",t).pipe(Object(b.a)(t=>{}))}update(t,e){return this.http.put(`${a.a}/premio/${e}`,t).pipe(Object(b.a)(t=>{}))}inativar(t){return this.http.delete(`${a.a}/premio/${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(g.b),r.Vb(c.c))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var u=i("/D8a"),h=i("OaAl"),f=i("Cdxl"),v=i("ofXK"),p=i("6NWb"),y=i("jhN1");let C=(()=>{class t{constructor(t){this._sanitizer=t}transform(t,e){switch(e){case"html":return this._sanitizer.bypassSecurityTrustHtml(t);case"style":return this._sanitizer.bypassSecurityTrustStyle(t);case"script":return this._sanitizer.bypassSecurityTrustScript(t);case"url":return this._sanitizer.bypassSecurityTrustUrl(t);case"resourceUrl":return this._sanitizer.bypassSecurityTrustResourceUrl(t);default:throw new Error("Unable to bypass security for invalid type: ")}}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(y.b))},t.\u0275pipe=r.Kb({name:"safeHtml",type:t,pure:!0}),t})(),k=(()=>{class t{transform(t,e,i){return this.oquefazer(t,e,i)}oquefazer(t,e,i){switch(e){case"isDevMode":return this.isDevMode(t,i)}return""}isDevMode(t,e){return e?t.replace(/public\//g,""):t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Kb({name:"helpers",type:t,pure:!0}),t})();const Q=["closemodalCategoryAdd"],R=["closemodalCategoryPick"],A=["closemodalStickyAdd"];function S(t,e){if(1&t&&(r.Rb(0,"div",46),r.Mb(1,"img",47),r.cc(2,"helpers"),r.Qb()),2&t){const t=r.bc().$implicit,e=r.bc();r.Ab(1),r.lc("src","",e.path,"/",r.fc(2,2,t.imagem,"isDevMode",e.isDevMode),"",r.vc)}}const M=function(t){return{text:t}};function _(t,e){if(1&t&&(r.Rb(0,"div",41),r.Rb(1,"div",42),r.Rb(2,"div",43),r.Ec(3),r.Qb(),r.Rb(4,"div",44),r.Ec(5),r.Qb(),r.Qb(),r.Cc(6,S,3,6,"div",45),r.Qb()),2&t){const t=e.$implicit;r.Ab(1),r.ic("ngClass",r.mc(4,M,!t.imagem)),r.Ab(2),r.Fc(t.frente),r.Ab(2),r.Fc(t.verso),r.Ab(1),r.ic("ngIf",t.imagem)}}function O(t,e){if(1&t&&(r.Rb(0,"option",22),r.Ec(1),r.Qb()),2&t){const t=e.$implicit;r.ic("value",t.id),r.Ab(1),r.Gc(" ",null==t?null:t.categoria," ")}}function P(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div",48),r.Yb("click",(function(){r.tc(t);const i=e.$implicit;return r.bc().pickCategory(i)})),r.Ec(1),r.Qb()}if(2&t){const t=e.$implicit;r.Ab(1),r.Gc(" ",t.categoria," ")}}const w=[{path:"",component:(()=>{class t{constructor(t,e,i,o,c){this.stickyService=t,this.formBuilder=e,this.helper=i,this.notificationService=o,this.loaderService=c,this.stickers=[],this.path=a.b,this.isDevMode=Object(r.W)(),this.categories=[],this.img="assets/img/user/padrao.svg",this.categoryActive={},this.faPlus=s,this.faBars=n,this.faPlusCircle=d}ngOnInit(){this.getCategories(),this.initialForms()}initialForms(){this.form=this.formBuilder.group({frente:this.formBuilder.control("",[l.r.required]),verso:this.formBuilder.control("",[l.r.required]),id_categoria:this.formBuilder.control(1,[l.r.required]),imagem:this.formBuilder.control("")}),this.formCategory=this.formBuilder.group({categoria:this.formBuilder.control("",[l.r.required])})}getStickers(){null!=this.categoryActive.id&&(this.loaderService.isLoad(!0),this.stickyService.getSticky(this.categoryActive.id).subscribe(t=>{this.stickers=t.dados,this.loaderService.isLoad(!1)}))}getCategories(){this.loaderService.isLoad(!0),this.stickyService.getCategories().subscribe(t=>{this.loaderService.isLoad(!1),this.categories=t.dados,this.getCategoryActive(),this.getStickers()})}save(t){this.loaderService.isLoad(!0);const e=new FormData;this.selectedFile&&e.append("imagem",this.selectedFile,this.selectedFile.name),this.uploadFile(t,e)}uploadFile(t,e){e?this.stickyService.file(e).subscribe(e=>{t.imagem=e.dados,this.saveForm(t)}):this.saveForm(t)}saveForm(t){this.stickyService.save(t).subscribe(e=>{this.notificationService.notifySweet("saved successfully!"),this.clearForm(),this.form.controls.id_categoria.setValue(t.id_categoria),this.getStickers(),this.closemodalStickyAdd.nativeElement.click(),this.loaderService.isLoad(!1)})}onFileChanged(t){const e=this.helper.onFileChanged(t);e?(this.img=e.img,this.selectedFile=e.selectedFile):alert("Arquivo n\xe3o permitido")}saveCategory(){this.loaderService.isLoad(!0),this.stickyService.saveCategory(this.formCategory.value).subscribe(t=>{0==this.categories.length&&this.pickCategory(t.dados),this.notificationService.notifySweet("saved successfully!"),this.getCategories(),this.closemodalCategoryAdd.nativeElement.click(),this.form.controls.id_categoria.setValue(t.dados.id),this.loaderService.isLoad(!1)})}getCategoryActive(){this.categoryActive=localStorage.getItem("memorize_catActive")?JSON.parse(localStorage.getItem("memorize_catActive")):{},this.form.controls.id_categoria.setValue(this.categoryActive.id),console.log(this.categoryActive.id),null==this.categoryActive.id&&this.setCategoryActive(this.categories[0])}setCategoryActive(t){this.categoryActive=t,localStorage.setItem("memorize_catActive",JSON.stringify(t))}pickCategory(t){this.loaderService.isLoad(!0),this.setCategoryActive(t),this.getStickers(),this.closemodalCategoryPick.nativeElement.click(),this.form.controls.id_categoria.setValue(t.id)}clearForm(){this.initialForms()}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(m),r.Lb(l.d),r.Lb(u.a),r.Lb(h.a),r.Lb(f.a))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-sticky"]],viewQuery:function(t,e){var i;1&t&&(r.yc(Q,!0),r.yc(R,!0),r.yc(A,!0)),2&t&&(r.qc(i=r.Zb())&&(e.closemodalCategoryAdd=i.first),r.qc(i=r.Zb())&&(e.closemodalCategoryPick=i.first),r.qc(i=r.Zb())&&(e.closemodalStickyAdd=i.first))},decls:78,vars:16,consts:[[1,"titleSticky"],["data-toggle","modal","data-target","#modalCategoryPick",1,"cursor-pointer"],[1,"sticky"],["class","card",4,"ngFor","ngForOf"],[1,"actions"],["data-toggle","modal","data-target","#modalStickyAdd",1,"add-sticky","cursor-pointer"],[1,"iconAction",3,"icon"],["data-toggle","modal","data-target","#modalCategoryAdd",1,"add-category","cursor-pointer"],["id","modalStickyAdd","tabindex","-1","aria-labelledby","modalNewSticky","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","modalNewSticky",1,"modal-title"],[1,"modal-body"],[1,"content"],["novalidate","",3,"formGroup"],[1,"form-group"],["for",""],["formControlName","frente",1,"form-control"],["formControlName","verso",1,"form-control"],[1,"",3,"icon"],["formControlName","id_categoria",1,"form-control"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["type","file","formControlName","imagem",2,"display","none",3,"change"],["fileInput",""],[1,"uploadArquivo"],[1,"btn","btn-upload",3,"click"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["closemodalStickyAdd",""],["type","button",1,"btn","btn-primary",3,"disabled","click"],["id","modalCategoryAdd","tabindex","-1","aria-labelledby","modalNewCategory","aria-hidden","true",1,"modal","fade"],["id","modalNewCategory",1,"modal-title"],["formControlName","categoria",1,"form-control"],["closemodalCategoryAdd",""],["id","modalCategoryPick","tabindex","-1","aria-labelledby","modalNewCategory","aria-hidden","true",1,"modal","fade"],[1,"content",2,"display","flex"],["class","pickCategory",3,"click",4,"ngFor","ngForOf"],["data-dismiss","modal"],["closemodalCategoryPick",""],[1,"card"],[3,"ngClass"],[1,"front"],[1,"back"],["class","image",4,"ngIf"],[1,"image"],["alt","",3,"src"],[1,"pickCategory",3,"click"]],template:function(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div",0),r.Rb(1,"span",1),r.Ec(2),r.Qb(),r.Qb(),r.Rb(3,"div",2),r.Cc(4,_,7,6,"div",3),r.Qb(),r.Rb(5,"div",4),r.Rb(6,"div",5),r.Mb(7,"fa-icon",6),r.Qb(),r.Rb(8,"div",7),r.Mb(9,"fa-icon",6),r.Qb(),r.Qb(),r.Rb(10,"div",8),r.Rb(11,"div",9),r.Rb(12,"div",10),r.Rb(13,"div",11),r.Rb(14,"h5",12),r.Ec(15,"Add new sticky"),r.Qb(),r.Qb(),r.Rb(16,"div",13),r.Rb(17,"div",14),r.Rb(18,"form",15),r.Rb(19,"div",16),r.Rb(20,"label",17),r.Ec(21,"Front"),r.Qb(),r.Mb(22,"textarea",18),r.Qb(),r.Rb(23,"div",16),r.Rb(24,"label",17),r.Ec(25,"Verse"),r.Qb(),r.Mb(26,"textarea",19),r.Qb(),r.Rb(27,"div",16),r.Rb(28,"label",17),r.Rb(29,"div",7),r.Ec(30," Category "),r.Mb(31,"fa-icon",20),r.Qb(),r.Qb(),r.Rb(32,"select",21),r.Mb(33,"option",22),r.Cc(34,O,2,2,"option",23),r.Qb(),r.Qb(),r.Rb(35,"div",16),r.Rb(36,"input",24,25),r.Yb("change",(function(t){return e.onFileChanged(t)})),r.Qb(),r.Rb(38,"div",26),r.cc(39,"safeHtml"),r.Qb(),r.Rb(40,"button",27),r.Yb("click",(function(){return r.tc(t),r.rc(37).click()})),r.Ec(41," Enviar IMG "),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(42,"div",28),r.Rb(43,"button",29,30),r.Ec(45," Fechar "),r.Qb(),r.Rb(46,"button",31),r.Yb("click",(function(){return e.save(e.form.value)})),r.Ec(47," Salvar "),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(48,"div",32),r.Rb(49,"div",9),r.Rb(50,"div",10),r.Rb(51,"div",11),r.Rb(52,"h5",33),r.Ec(53,"Add new category"),r.Qb(),r.Qb(),r.Rb(54,"div",13),r.Rb(55,"div",14),r.Rb(56,"form",15),r.Rb(57,"div",16),r.Rb(58,"label",17),r.Ec(59,"Category"),r.Qb(),r.Mb(60,"input",34),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(61,"div",28),r.Rb(62,"button",29,35),r.Ec(64," Fechar "),r.Qb(),r.Rb(65,"button",31),r.Yb("click",(function(){return e.saveCategory()})),r.Ec(66," Salvar "),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(67,"div",36),r.Rb(68,"div",9),r.Rb(69,"div",10),r.Rb(70,"div",11),r.Rb(71,"h5",33),r.Ec(72,"pick category"),r.Qb(),r.Qb(),r.Rb(73,"div",13),r.Rb(74,"div",37),r.Cc(75,P,2,1,"div",38),r.Qb(),r.Qb(),r.Mb(76,"div",39,40),r.Qb(),r.Qb(),r.Qb()}2&t&&(r.Ab(2),r.Gc(" ",null==e.categoryActive?null:e.categoryActive.categoria," "),r.Ab(2),r.ic("ngForOf",e.stickers),r.Ab(3),r.ic("icon",e.faPlus),r.Ab(2),r.ic("icon",e.faBars),r.Ab(9),r.ic("formGroup",e.form),r.Ab(13),r.ic("icon",e.faPlusCircle),r.Ab(3),r.ic("ngForOf",e.categories),r.Ab(4),r.zc("background-image",r.ec(39,13,"url("+e.img+" )","style")),r.Ab(8),r.ic("disabled",!e.form.valid),r.Ab(10),r.ic("formGroup",e.formCategory),r.Ab(9),r.ic("disabled",!e.formCategory.valid),r.Ab(10),r.ic("ngForOf",e.categories))},directives:[v.j,p.a,l.t,l.l,l.f,l.b,l.k,l.e,l.q,l.o,l.s,v.i,v.k],pipes:[C,k],styles:[".titleSticky[_ngcontent-%COMP%]{font-size:3em;font-weight:700;margin-left:20px}.sticky[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;max-width:100vw;margin:0 auto}.sticky[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{flex:1 1 0;margin:20px}.image[_ngcontent-%COMP%]{display:flex;width:100%}.sticky[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;margin:0 auto}.text[_ngcontent-%COMP%]{justify-items:center;flex-direction:column;height:100%}.front[_ngcontent-%COMP%], .text[_ngcontent-%COMP%]{display:flex;justify-content:center}.front[_ngcontent-%COMP%]{text-align:center;font-size:2em;font-weight:700;margin-bottom:15px}.back[_ngcontent-%COMP%]{display:flex;justify-content:center;font-size:1em;margin-bottom:25px}.actions[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0;width:100%;padding:15px}.actions[_ngcontent-%COMP%]   .add-sticky[_ngcontent-%COMP%]{margin-left:5px;background:var(--backgroundButton)}.actions[_ngcontent-%COMP%]   .add-category[_ngcontent-%COMP%], .actions[_ngcontent-%COMP%]   .add-sticky[_ngcontent-%COMP%]{position:relative;float:right;width:60px;height:60px;border-radius:30px;display:grid;align-content:center;text-align:center}.actions[_ngcontent-%COMP%]   .add-category[_ngcontent-%COMP%]{background:var(--icons)}.content[_ngcontent-%COMP%]{margin-top:30px}.iconAction[_ngcontent-%COMP%]{font-size:3rem}.pickCategory[_ngcontent-%COMP%]{padding:15px;margin:5px;background:var(--backgroundButton);cursor:pointer}"]}),t})()}];let x=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[o.a,c.d.forChild(w)]]}),t})()}}]);